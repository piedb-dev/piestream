# This file is automatically generated. See `src/frontend/planner_test/README.md` for more information.
- id: create_table_t1
  sql: |
    create table t1 (a int, b double, c varchar);
- id: create_table_t2
  sql: |
    create table t2 (a int primary key, b double, c varchar);
- id: create_table_t3
  sql: |
    create table t3 (a int, b double, c varchar, primary key (a));
- id: create_table_t4
  sql: |
    create table t4 (a int, b double, c varchar, primary key (a, c));
- before:
  - create_table_t1
  sql: |
    select * from t1 where a = 1;
  batch_plan: |
    BatchExchange { order: [], dist: Single }
    └─BatchFilter { predicate: (t1.a = 1:Int32) }
      └─BatchScan { table: t1, columns: [t1.a, t1.b, t1.c], distribution: SomeShard }
- name: _row_id column is inserted if no pk is specified
  before:
  - create_table_t1
  sql: |
    select _row_id from t1;
  batch_plan: |
    BatchExchange { order: [], dist: Single }
    └─BatchScan { table: t1, columns: [t1._row_id], distribution: UpstreamHashShard(t1._row_id) }
- before:
  - create_table_t2
  sql: |
    select _row_id from t2;
  binder_error: 'Item not found: Invalid column: _row_id'
- name: selecting on pk should generate range scan
  before:
  - create_table_t2
  sql: |
    select * from t2 where a > 1;
  batch_plan: |
    BatchExchange { order: [], dist: Single }
    └─BatchScan { table: t2, columns: [t2.a, t2.b, t2.c], scan_ranges: [t2.a > Int32(1)], distribution: UpstreamHashShard(t2.a) }
- before:
  - create_table_t3
  sql: |
    select * from t3 where a < 1;
  batch_plan: |
    BatchExchange { order: [], dist: Single }
    └─BatchScan { table: t3, columns: [t3.a, t3.b, t3.c], scan_ranges: [t3.a < Int32(1)], distribution: UpstreamHashShard(t3.a) }
- before:
  - create_table_t4
  sql: |
    select * from t4 where a = 1 and c = 'abc';
  batch_plan: |
    BatchExchange { order: [], dist: Single }
    └─BatchScan { table: t4, columns: [t4.a, t4.b, t4.c], scan_ranges: [t4.a = Int32(1) AND t4.c = Utf8("abc")], distribution: UpstreamHashShard(t4.a, t4.c) }
- before:
  - create_table_t4
  sql: |
    select * from t4 where a >= 1;
  batch_plan: |
    BatchExchange { order: [], dist: Single }
    └─BatchScan { table: t4, columns: [t4.a, t4.b, t4.c], scan_ranges: [t4.a >= Int32(1)], distribution: UpstreamHashShard(t4.a, t4.c) }
