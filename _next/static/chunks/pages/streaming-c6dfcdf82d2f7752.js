(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[383],{76975:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/streaming",function(){return r(38902)}])},55029:function(t,e,r){"use strict";var n=r(85893),o=r(67294),a=r(76798),i=r(46901);e.Z=o.forwardRef((function(t,e){var r=t.vertical||"bottom",l=t.horizontal||"left",u=(0,o.useState)(!1),c=u[0],s=u[1],f=(0,o.useState)(""),d=f[0],h=f[1],v=(0,o.useState)("success"),p=v[0],y=v[1],w=function(){s(!1)};return e.current={info:function(t){y("error"),h(t),s(!0)},warning:function(t){y("warning"),h(t),s(!0)},success:function(t){y("success"),h(t),s(!0)},error:function(t){y("error"),h(t),s(!0)}},(0,n.jsx)(a.Z,{open:c,autoHideDuration:6e3,onClose:w,anchorOrigin:{vertical:r,horizontal:l},children:(0,n.jsx)(i.Z,{onClose:w,severity:p,sx:{width:"100%"},children:d})})}))},99442:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(85893);function o(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsx)("span",{style:{fontWeight:"lighter"},children:"No data presented."})})})}},20149:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=r(34051),o=r.n(n),a={baseUrl:"http://127.0.0.1:5691"};function i(t,e,r,n,o,a,i){try{var l=t[a](i),u=l.value}catch(c){return void r(c)}l.done?e(u):Promise.resolve(u).then(n,o)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl="/"===a.baseUrl.charAt(a.baseUrl.length-1)?a.baseUrl.slice(0,a.baseUrl.length):a.baseUrl}var e,r,n;return e=t,r=[{key:"get",value:function(t){var e,r=this;return(e=o().mark((function e(){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r.baseUrl+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),Error("Failed to fetch "+t);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function l(t){i(a,n,o,l,u,"next",t)}function u(t){i(a,n,o,l,u,"throw",t)}l(void 0)}))})()}}],r&&l(e.prototype,r),n&&l(e,n),t}(),c=new u},38902:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return pe}});var n=r(34051),o=r.n(n),a=r(85893),i=r(32001),l=[["#6FE0D3","#E09370"],["#75D0E0","#E0A575"],["#75BAE0","#E0B175"],["#77A5E0","#E0BC77"],["#768CE0","#E0C577"],["#7575E0","#E0CD75"],["#A978E0","#E0DF79"],["#C977E0","#B9E077"],["#E072D7","#92E072"],["#E069A4","#69E069"],["#E06469","#65E086"],["#E07860","#60E0B2"],["#E08159","#5AE0CE"],["#E09C5C","#5CC5E0"],["#E0B763","#6395E0"],["#E0CE5A","#6B5AE0"],["#C8E051","#AA51E0"],["#92E06F","#E070DB"],["#79E085","#E07998"],["#80E0B1","#E08C80"],["#91DBE0","#E0B292"]],u=[["#1976d2","#a6c9ff"],["#FFF38A","#E0D463"],["#A3ACFF","#7983DF"],["#A6C9FF","#7BA3DF"],["#FFBE8C","#E09B65"],["#FFD885","#E0B65D"],["#9EE2FF","#73BEDF"],["#DAFF8F","#B8E066"],["#FFC885","#E0A65D"],["#9EFCFF","#74DCDF"],["#FBFF8C","#DBE065"],["#9CFFDE","#71DFBB"],["#FFAF91","#E08869"],["#B699FF","#9071E0"],["#9EFFB6","#74DF8F"],["#FFA19C","#E07872"],["#AEFF9C","#85DF71"],["#FF96B9","#E06D94"],["#FFE785","#E0C75F"],["#FF94FB","#E06BDC"],["#DA99FF","#B66FE0"],["#8F93FF","#666AE0"]];var c=100*Math.random();function s(t){return u[(Math.round(c)+t)%l.length]}function f(t,e){for(var r=0;r<t;++r)e(r)}function d(t){var e=[];return f(t,(function(){e.push(0)})),e}function h(t,e){for(var r=[t];0!==r.length;){var n=r.shift();if(!e(n)){var o=!0,a=!1,i=void 0;try{for(var l,u=n.nextNodes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r.push(c)}}catch(s){a=!0,i=s}finally{try{o||null==u.return||u.return()}finally{if(a)throw i}}}}}function v(t,e,r){for(var n=r||"nextNodes",o=new Set,a=[t];0!==a.length;){var i=a.shift();if(o.add(i),!e(i)){var l=!0,u=!1,c=void 0;try{for(var s,f=i[n][Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=s.value;o.has(d)||a.push(d)}}catch(h){u=!0,c=h}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}}}}function p(t){var e=new Map,r=!0,n=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value,u={val:l,nextNodes:[],g:-1};e.set(l,u)}}catch(L){n=!0,o=L}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}var c=!0,s=!1,d=void 0;try{for(var h,p=t[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var y=h.value,w=e.get(y),g=!0,m=!1,b=void 0;try{for(var x,S=y.nextNodes[Symbol.iterator]();!(g=(x=S.next()).done);g=!0){var k=x.value,A=e.get(k);w.nextNodes.push(A),A.nextNodes.push(w)}}catch(L){m=!0,b=L}finally{try{g||null==S.return||S.return()}finally{if(m)throw b}}}}catch(L){s=!0,d=L}finally{try{c||null==p.return||p.return()}finally{if(s)throw d}}var E=0,j=!0,I=!1,C=void 0;try{for(var N,O=function(t,r){var n=r.value,o=e.get(n);-1===o.g&&(o.g=E++,v(o,(function(t){t.g=o.g})))},_=e.keys()[Symbol.iterator]();!(j=(N=_.next()).done);j=!0)O(0,N)}catch(L){I=!0,C=L}finally{try{j||null==_.return||_.return()}finally{if(I)throw C}}var P=function(t){var e=[];return f(t,(function(){e.push([])})),e}(E),M=!0,F=!1,T=void 0;try{for(var D,Z=e.keys()[Symbol.iterator]();!(M=(D=Z.next()).done);M=!0){var B=D.value;P[e.get(B).g].push(B)}}catch(L){F=!0,T=L}finally{try{M||null==Z.return||Z.return()}finally{if(F)throw T}}return P}var y=r(96486);function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t,e,r){return b=m()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&C(o,r.prototype),o},b.apply(null,arguments)}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&x(t.prototype,e),r&&x(t,r),t}function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function E(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){k(t,e,r[e])}))}return t}function I(t,e){return!e||"object"!==_(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,e)||P(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||P(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function P(t,e){if(t){if("string"===typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}function M(t){var e="function"===typeof Map?new Map:void 0;return M=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return b(t,arguments,A(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,t)},M(t)}function F(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=A(t);if(e){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return I(this,r)}}var T=0;function D(t,e){return e+":"+(void 0===t.operatorId?"g"+ ++T:"o"+t.operatorId)}var Z=function t(e,r,n){g(this,t),this.id=e,this.nodeProto=n,this.nextNodes=[],this.actorId=r},B=function(t){E(r,t);var e=F(r);function r(t,n,o){var a;return g(this,r),(a=e.call(this,t,n,o)).type=a.parseType(o),a.typeInfo=o[a.type],a}return S(r,[{key:"parseType",value:function(t){var e=new Set(["source","project","filter","materialize","localSimpleAgg","globalSimpleAgg","hashAgg","appendOnlyTopN","hashJoin","topN","hopWindow","merge","exchange","chain","batchPlan","lookup","arrange","lookupUnion","union","deltaIndexJoin"]),r=!0,n=!1,o=void 0;try{for(var a,i=Object.entries(t)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=N(a.value,2),u=l[0];l[1];if(e.has(u))return u}}catch(c){n=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}}}]),r}(M(Z)),L=function(t){E(r,t);var e=F(r);function r(t,n,o,a){var i;return g(this,r),(i=e.call(this,t,a)).dispatcherType=n,i.downstreamActorId=o,i}return r}(M(Z)),R=function t(e,r,n,o,a){g(this,t),this.actorId=e,this.output=r,this.rootNode=n,this.fragmentId=o,this.computeNodeAddress=a,this.representedActorList=null,this.representedWorkNodes=null},z=function(){function t(e,r){g(this,t),this.actorId2Proto=new Map,this.actorIdTomviewNodes=new Map,this.shownActorSet=new Set(r);var n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value,c=!0,s=!1,f=void 0;try{for(var d,h=u.actors[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=d.value;r&&!this.shownActorSet.has(v.actorId)||this.actorId2Proto.set(v.actorId,j({computeNodeAddress:"".concat(u.node.host.host,":").concat(u.node.host.port)},v))}}catch(P){s=!0,f=P}finally{try{c||null==h.return||h.return()}finally{if(s)throw f}}}}catch(P){o=!0,a=P}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}this.parsedNodeMap=new Map,this.parsedActorMap=new Map;var p=!0,y=!1,w=void 0;try{for(var m,b=this.actorId2Proto.entries()[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){var x=N(m.value,2),S=(x[0],x[1]);this.parseActor(S)}}catch(P){y=!0,w=P}finally{try{p||null==b.return||b.return()}finally{if(y)throw w}}this.parsedActorList=[];var k=!0,A=!1,E=void 0;try{for(var I,C=this.parsedActorMap.entries()[Symbol.iterator]();!(k=(I=C.next()).done);k=!0){var O=N(I.value,2),_=(O[0],O[1]);this.parsedActorList.push(_)}}catch(P){A=!0,E=P}finally{try{k||null==C.return||C.return()}finally{if(A)throw E}}this.fragmentRepresentedActors=this._constructRepresentedActorList(),this.mvTableIdToSingleViewActorList=this._constructSingleViewMvList(),this.mvTableIdToChainViewActorList=this._constructChainViewMvList()}return S(t,[{key:"_constructRepresentedActorList",value:function(){var t=new Map,e=new Set,r=!0,n=!1,o=void 0;try{for(var a,i=this.parsedActorList[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value;t.has(l.fragmentId)?t.get(l.fragmentId).push(l):(e.add(l),t.set(l.fragmentId,[l]))}}catch(v){n=!0,o=v}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}var u=!0,c=!1,s=void 0;try{for(var f,d=function(e,r){var n=r.value;n.representedActorList=t.get(n.fragmentId).sort((function(t){return t.actorId})),n.representedWorkNodes=new Set;var o=!0,a=!1,i=void 0;try{for(var l,u=n.representedActorList[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.representedActorList=n.representedActorList,n.representedWorkNodes.add(c.computeNodeAddress)}}catch(v){a=!0,i=v}finally{try{o||null==u.return||u.return()}finally{if(a)throw i}}},h=e[Symbol.iterator]();!(u=(f=h.next()).done);u=!0)d(0,f)}catch(v){c=!0,s=v}finally{try{u||null==h.return||h.return()}finally{if(c)throw s}}return e}},{key:"_constructChainViewMvList",value:function(){var t=this,e=new Map,r=new Map,n=function(e){if(r.has(e))return r.get(e);var o={id:e,parentNodes:[],nextNodes:[]},a=!0,i=!1,l=void 0;try{for(var u,c=t.parsedActorMap.get(e).output[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value,f=n(s.actorId);f.parentNodes.push(o),o.nextNodes.push(f)}}catch(d){i=!0,l=d}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}return r.set(e,o),o},o=!0,a=!1,i=void 0;try{for(var l,u=this.actorId2Proto.keys()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;n(c)}}catch(I){a=!0,i=I}finally{try{o||null==u.return||u.return()}finally{if(a)throw i}}var s=!0,f=!1,d=void 0;try{for(var h,p=this.actorIdTomviewNodes.entries()[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var y=N(h.value,2),w=y[0],g=y[1],m=new Set,b=n(w);v(b,(function(t){m.add(t.id)})),v(b,(function(t){m.add(t.id)}),"parentNodes");var x=!0,S=!1,k=void 0;try{for(var A,E=this.parsedActorMap.get(w).representedActorList[Symbol.iterator]();!(x=(A=E.next()).done);x=!0){var j=A.value;m.add(j.actorId)}}catch(I){S=!0,k=I}finally{try{x||null==E.return||E.return()}finally{if(S)throw k}}e.set(g.typeInfo.tableRefId.tableId,O(m.values()))}}catch(I){f=!0,d=I}finally{try{s||null==p.return||p.return()}finally{if(f)throw d}}return e}},{key:"_constructSingleViewMvList",value:function(){var t=this,e=new Map,r=new Map,n=function(e){if(r.has(e))return r.get(e);var o={id:e,parentNodes:[]},a=!0,i=!1,l=void 0;try{for(var u,c=t.parsedActorMap.get(e).output[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value;n(s.actorId).parentNodes.push(o)}}catch(f){i=!0,l=f}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}return r.set(e,o),o},o=!0,a=!1,i=void 0;try{for(var l,u=this.parsedActorList[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;n(c.actorId)}}catch(A){a=!0,i=A}finally{try{o||null==u.return||u.return()}finally{if(a)throw i}}var s=!0,f=!1,d=void 0;try{for(var h,p=this.actorId2Proto.keys()[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var y=h.value;n(y)}}catch(A){f=!0,d=A}finally{try{s||null==p.return||p.return()}finally{if(f)throw d}}var w=!0,g=!1,m=void 0;try{for(var b,x=this,S=function(t,r){var o=N(r.value,2),a=o[0],i=o[1],l=x,u=[],c=n(a);v(c,(function(t){if(u.push(t.id),c.id!==t.id&&l.actorIdTomviewNodes.has(t.id))return!0}),"parentNodes");var s=!0,f=!1,d=void 0;try{for(var h,p=x.parsedActorMap.get(a).representedActorList[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var y=h.value;u.push(y.actorId)}}catch(A){f=!0,d=A}finally{try{s||null==p.return||p.return()}finally{if(f)throw d}}e.set(i.typeInfo.tableRefId.tableId,u)},k=this.actorIdTomviewNodes.entries()[Symbol.iterator]();!(w=(b=k.next()).done);w=!0)S(0,b)}catch(A){g=!0,m=A}finally{try{w||null==k.return||k.return()}finally{if(g)throw m}}return e}},{key:"newDispatcher",value:function(t,e,r){return new L(t,e,r,{operatorId:1e5+t})}},{key:"parseActor",value:function(t){var e=t.actorId;if(this.parsedActorMap.has(e))return this.parsedActorMap.get(e);var r,n=new R(e,[],null,t.fragmentId,t.computeNodeAddress);if(this.parsedActorMap.set(e,n),t.dispatcher&&t.dispatcher[0].type){var o=this.parseNode(n.actorId,t.nodes);(r=this.newDispatcher(n.actorId,t.dispatcher[0].type,t.downstreamActorId)).nextNodes=[o]}else r=this.parseNode(e,t.nodes);return n.rootNode=r,n}},{key:"parseNode",value:function(t,e){var r=D(e,t);if(this.parsedNodeMap.has(r))return this.parsedNodeMap.get(r);var n=new B(r,t,e);if(this.parsedNodeMap.set(r,n),void 0!==e.input){var o=!0,a=!1,i=void 0;try{for(var l,u=e.input[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;n.nextNodes.push(this.parseNode(t,c))}}catch(S){a=!0,i=S}finally{try{o||null==u.return||u.return()}finally{if(a)throw i}}}if("merge"===n.type&&n.typeInfo.upstreamActorId){var s=!0,f=!1,d=void 0;try{for(var h,v=n.typeInfo.upstreamActorId[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){var p=h.value;this.actorId2Proto.has(p)&&this.parseActor(this.actorId2Proto.get(p)).output.push(n)}}catch(S){f=!0,d=S}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}}if("chain"===n.type&&n.typeInfo.upstreamActorIds){var y=!0,w=!1,g=void 0;try{for(var m,b=n.typeInfo.upstreamActorIds[Symbol.iterator]();!(y=(m=b.next()).done);y=!0){var x=m.value;this.actorId2Proto.has(x)&&this.parseActor(this.actorId2Proto.get(x)).output.push(n)}}catch(S){w=!0,g=S}finally{try{y||null==b.return||b.return()}finally{if(w)throw g}}}return"materialize"===n.type&&this.actorIdTomviewNodes.set(t,n),n}},{key:"getActor",value:function(t){return this.parsedActorMap.get(t)}},{key:"getOperator",value:function(t){return this.parsedNodeMap.get(t)}},{key:"getParsedActorList",value:function(){return this.parsedActorList}}]),t}(),W=r(32777);function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e,r,n,o,a,i){try{var l=t[a](i),u=l.value}catch(c){return void r(c)}l.done?e(u):Promise.resolve(u).then(n,o)}function H(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){G(a,n,o,i,l,"next",t)}function l(t){G(a,n,o,i,l,"throw",t)}i(void 0)}))}}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function K(t,e,r){return e&&Y(t.prototype,e),r&&Y(t,r),t}function J(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q(t,e,r){return Q="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},Q(t,e,r||t)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function $(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}function tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){J(t,e,r[e])}))}return t}function et(t,e){return!e||"object"!==ot(e)&&"function"!==typeof e?X(t):e}function rt(t,e){return rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rt(t,e)}function nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ot=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function at(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=q(t);if(e){var o=q(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return et(this,r)}}W.fabric.Object.prototype.objectCaching=!1,W.fabric.Object.prototype.statefullCache=!1,W.fabric.Object.prototype.noScaleCache=!0,W.fabric.Object.prototype.needsItsOwnCache=function(){return!1};var it=function(){function t(e){U(this,t),this.props=e,e.canvasElement&&(e.engine.canvas.add(e.canvasElement),e.canvasElement.on("mouse:down",(function(t){console.log(t)}))),this.eventHandler=new Map}return K(t,[{key:"_attrMap",value:function(t,e){return[t,e]}},{key:"attr",value:function(t,e){var r=this._attrMap(t,e);return r&&2===r.length&&this.props.canvasElement&&this.props.canvasElement.set(r[0],r[1]),this}},{key:"_afterPosition",value:function(){this.props.canvasElement&&this.props.engine._addDrawElement(this)}},{key:"position",value:function(t,e){return this.props.canvasElement.set("left",t),this.props.canvasElement.set("top",e),this._afterPosition(),this}},{key:"on",value:function(t,e){return this.eventHandler.set(t,e),this}},{key:"getEventHandler",value:function(t){return this.eventHandler.get(t)}},{key:"style",value:function(t,e){return this.attr(t,e)}},{key:"classed",value:function(t,e){return this.props.engine.classedElement(t,this,e),this}}]),t}(),lt=function(t){$(r,t);var e=at(r);function r(t){var n;return U(this,r),J(X(n=e.call(this,t)),"_appendGroup",(function(){return new r(n.basicSetting)})),J(X(n),"_appendCircle",(function(){return new ct(tt({},n.basicSetting,{canvasElement:new W.fabric.Circle({selectable:!1,hoverCursor:"pointer"})}))})),J(X(n),"_appendRect",(function(){return new ut(tt({},n.basicSetting,{canvasElement:new W.fabric.Rect({selectable:!1,hoverCursor:"pointer"})}))})),J(X(n),"_appendText",(function(){return function(t){return new st(tt({},n.basicSetting,{canvasElement:new W.fabric.Text(t||"undefined",{selectable:!1,textAlign:"justify-center"})}))}})),J(X(n),"_appendPath",(function(){return function(t){return new dt(tt({},n.basicSetting,{canvasElement:new W.fabric.Path(t,{selectable:!1})}))}})),J(X(n),"_appendPolygan",(function(){return new ft(n.basicSetting)})),J(X(n),"append",(function(t){return n.appendFunc[t]()})),n.appendFunc={g:n._appendGroup,circle:n._appendCircle,rect:n._appendRect,text:n._appendText,path:n._appendPath,polygon:n._appendPolygan},n.basicSetting={engine:t.engine},n}return r}(it),ut=function(t){$(r,t);var e=at(r);function r(t){var n;return U(this,r),(n=e.call(this,t)).props=t,n}return K(r,[{key:"init",value:function(t,e,n,o){var a=this.props.canvasElement;return a.set("left",t),a.set("top",e),a.set("width",n),a.set("height",o),Q(q(r.prototype),"_afterPosition",this).call(this),this}},{key:"_attrMap",value:function(t,e){return"rx"===t?(this.props.canvasElement.set("rx",e),this.props.canvasElement.set("ry",e),!1):[t,e]}}]),r}(it),ct=function(t){$(r,t);var e=at(r);function r(t){var n;return U(this,r),(n=e.call(this,t)).props=t,n.radius=0,n}return K(r,[{key:"init",value:function(t,e,n){return this.props.canvasElement.set("left",t-n),this.props.canvasElement.set("top",e-n),this.props.canvasElement.set("radius",n),Q(q(r.prototype),"_afterPosition",this).call(this),this}},{key:"_attrMap",value:function(t,e){return"r"===t?(this.radius=e,["radius",e]):"cx"===t?["left",e-this.radius]:"cy"===t?["top",e-this.radius]:[t,e]}}]),r}(it),st=function(t){$(r,t);var e=at(r);function r(t){var n;return U(this,r),(n=e.call(this,t)).props=t,n}return K(r,[{key:"position",value:function(t,e){var n=this.props.canvasElement;return n.set("top",e),n.set("left",t),Q(q(r.prototype),"_afterPosition",this).call(this),this}},{key:"_attrMap",value:function(t,e){return"text-anchor"===t?["textAlign",e]:"font-size"===t?["fontSize",e]:[t,e]}},{key:"text",value:function(t){return this}},{key:"getWidth",value:function(){}}]),r}(it),ft=function(t){$(r,t);var e=at(r);function r(t){var n;return U(this,r),(n=e.call(this,t)).props=t,n}return r}(it),dt=function(t){$(r,t);var e=at(r);function r(t){var n,o;return U(this,r),(o=e.call(this,t)).props=t,o.strokeWidth=1,Q((n=X(o),q(r.prototype)),"_afterPosition",n).call(n),o}return K(r,[{key:"_attrMap",value:function(t,e){return"fill"===t?["fill","none"!==e&&e]:"stroke-width"===t?(this.props.canvasElement.set("top",this.props.canvasElement.get("top")-e/2),["strokeWidth",e]):"stroke-dasharray"===t?["strokeDashArray",e.split(",")]:"layer"===t?("back"===e&&this.props.canvasElement.canvas.sendToBack(this.props.canvasElement),!1):[t,e]}}]),r}(it),ht=function(){function t(){U(this,t),this.map=new Map}return K(t,[{key:"rangeQuery",value:function(t,e){var r=new Set,n=!0,o=!1,a=void 0;try{for(var i,l=this.map.entries()[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=nt(i.value,2),c=u[0],s=u[1];t<=c&&c<=e&&s.forEach((function(t){return r.add(t)}))}}catch(f){o=!0,a=f}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}},{key:"insert",value:function(t,e){this.map.has(t)?this.map.get(t).add(e):this.map.set(t,new Set([e]))}}]),t}(),vt=function(){function t(){U(this,t),this.xMap=new ht,this.yMap=new ht,this.gs=100}return K(t,[{key:"_getKey",value:function(t){return Math.round(t/this.gs)}},{key:"addObject",value:function(t,e,r,n,o){for(var a=t;a<=e+this.gs;a+=this.gs)this.xMap.insert(this._getKey(a),o);for(var i=r;i<=n+this.gs;i+=this.gs)this.yMap.insert(this._getKey(i),o)}},{key:"areaQuery",value:function(t,e,r,n){var o=this.xMap.rangeQuery(this._getKey(t),this._getKey(e)),a=this.yMap.rangeQuery(this._getKey(r),this._getKey(n)),i=new Set;return o.forEach((function(t){a.has(t)&&i.add(t)})),i}}]),t}(),pt=function(){function t(e,r,n){U(this,t);var o=new W.fabric.Canvas(e);o.selection=!1,this.height=r,this.width=n,this.canvas=o,this.clazzMap=new Map,this.topGroup=new lt({engine:this}),this.gridMapper=new vt,this.canvasElementToDrawElement=new Map;var a=this;o.on("mouse:wheel",(function(t){var e=t.e;if(!0===e.ctrlKey){var r=t.e.deltaY,n=o.getZoom();(n*=Math.pow(.999,r))>10&&(n=10),n<.03&&(n=.03),o.zoomToPoint({x:t.e.offsetX,y:t.e.offsetY},n),a._refreshView(),e.preventDefault(),e.stopPropagation()}else a.moveCamera(-e.deltaX,-e.deltaY),e.preventDefault(),e.stopPropagation()})),o.on("mouse:down",(function(t){var e=t.e;this.isDragging=!0,this.selection=!1,this.lastPosX=e.clientX,this.lastPosY=e.clientY,a._handleClickEvent(t.target)})),o.on("mouse:move",(function(t){if(this.isDragging){var e=t.e;a.moveCamera(e.clientX-this.lastPosX,e.clientY-this.lastPosY),this.lastPosX=e.clientX,this.lastPosY=e.clientY}})),o.on("mouse:up",(function(t){this.setViewportTransform(this.viewportTransform),this.isDragging=!1,this.selection=!0}))}return K(t,[{key:"moveCamera",value:function(t,e){var r=this;return H(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.canvas.setZoom(r.canvas.getZoom()),(a=r.canvas.viewportTransform)[4]+=t,a[5]+=e,r._refreshView();case 5:case"end":return n.stop()}}),n)})))()}},{key:"_handleClickEvent",value:function(t){var e=this;return H(o().mark((function r(){var n,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==t){r.next=2;break}return r.abrupt("return");case 2:n=e.canvasElementToDrawElement.get(t),(a=n.getEventHandler("click"))&&a();case 5:case"end":return r.stop()}}),r)})))()}},{key:"_refreshView",value:function(){var t=this;return H(o().mark((function e(){var r,n,a,i,l,u,c,s,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:50,r=t.canvas.viewportTransform,n=t.canvas.getZoom(),a=t.width,i=t.height,l=-r[4]-50,u=-r[4]+a+50,c=-r[5]-50,s=-r[5]+i+50,f=t.gridMapper.areaQuery(l/n,u/n,c/n,s/n),t.canvas.getObjects().forEach((function(t){f.has(t)?t.visible=!0:t.visible=!1})),t.canvas.requestRenderAll();case 12:case"end":return e.stop()}}),e)})))()}},{key:"_addDrawElement",value:function(t){var e=t.props.canvasElement;this.canvasElementToDrawElement.set(e,t),this.gridMapper.addObject(e.left,e.left+e.width,e.top,e.top+e.height,e)}},{key:"classedElement",value:function(t,e,r){r?this.clazzMap.has(t)?this.clazzMap.get(t).add(e):this.clazzMap.set(t,new Set([e])):this.clazzMap.has(t)&&this.clazzMap.get(t).delete(e)}},{key:"locateTo",value:function(t){var e=this.clazzMap.get(t);if(e){var r=Array.from(e);if(r.length>0){var n=r[0],o=n.props.canvasElement.get("left"),a=n.props.canvasElement.get("top");this.canvas.setZoom(.6);var i=this.canvas.viewportTransform;i[4]=.6*(-o+.5*this.width),i[5]=.6*(-a+.5*this.height),this.canvas.requestRenderAll(),this._refreshView()}}}},{key:"resetCamera",value:function(){var t=this.canvas.getZoom();t*=.999,this.canvas.setZoom(t);var e=this.canvas.viewportTransform;e[4]=0,e[5]=0,this.canvas.requestRenderAll(),this._refreshView()}},{key:"cleanGraph",value:function(){console.log("clean called"),this.canvas.dispose()}},{key:"resize",value:function(t,e){this.width=t,this.height=e,this.canvas.setDimensions({width:this.width,height:this.height})}}]),t}();function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bt=50,xt=7.5;function St(t){var e=mt(t.split(":"),2),r=e[0],n=e[1],o="";return r.split(".").map((function(t){return o+=t})),Number(o+n)}var kt=function(){function t(e,r,n,o,a,i){var l=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,"_operatorColor",(function(t,e){return l.isInSelectedActor(t)&&"mviewNode"===e.type?l._mainColor(t):"#eee"})),gt(this,"_actorBoxBackgroundColor",(function(t){return l.isInSelectedActor(t)?l._sideColor(t):"#eee"})),gt(this,"_actorOutgoinglinkColor",(function(t){return l.isInSelectedActor(t)?l._mainColor(t):"#fff"})),this.topGroup=e,this.streamPlan=new z(r,i),this.onNodeClick=n,this.onActorClick=o,this.selectedWokerNode=a,this.selectedWokerNodeStr=this.selectedWokerNode?a.host.host+":"+a.host.port:"Show All"}var e,r,n;return e=t,r=[{key:"getMvTableIdToSingleViewActorList",value:function(){return this.streamPlan.mvTableIdToSingleViewActorList}},{key:"getMvTableIdToChainViewActorList",value:function(){return this.streamPlan.mvTableIdToChainViewActorList}},{key:"isInSelectedActor",value:function(t){return"Show All"===this.selectedWokerNodeStr||t.representedWorkNodes.has(this.selectedWokerNodeStr)}},{key:"_mainColor",value:function(t){return s(St(t.representedWorkNodes.has(this.selectedWokerNodeStr)?this.selectedWokerNodeStr:t.computeNodeAddress))[0]}},{key:"_sideColor",value:function(t){return s(St(t.representedWorkNodes.has(this.selectedWokerNodeStr)?this.selectedWokerNodeStr:t.computeNodeAddress))[1]}},{key:"dagLayout",value:function(t){var e=[],r=[],n=new Map,o=function(t){if(t.temp)throw Error("This is not a DAG");if(!t.perm){t.temp=!0;var r=-1,a=!0,i=!1,l=void 0;try{for(var u,c=t.node.nextNodes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value;n.get(s).isInput=!1,t.isOutput=!1;var f=o(n.get(s));f>r&&(r=f)}}catch(d){i=!0,l=d}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}t.temp=!1,t.perm=!0,t.g=r+1,e.unshift(t.node)}return t.g},a=!0,i=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value,f={node:s,temp:!1,perm:!1,isInput:!0,isOutput:!0};n.set(s,f),r.push(f)}}catch(Et){i=!0,l=Et}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}var d=0,h=!0,v=!1,p=void 0;try{for(var y,w=r[Symbol.iterator]();!(h=(y=w.next()).done);h=!0){var g=y.value,m=o(g);m>d&&(d=m)}}catch(Et){v=!0,p=Et}finally{try{h||null==w.return||w.return()}finally{if(v)throw p}}var b=!0,x=!1,S=void 0;try{for(var k,A=r[Symbol.iterator]();!(b=(k=A.next()).done);b=!0){var E=k.value;E.g=d-E.g}}catch(Et){x=!0,S=Et}finally{try{b||null==A.return||A.return()}finally{if(x)throw S}}for(var j=[],I=0;I<d+1;++I)j.push({nodes:[],occupyRow:new Set});var C=new Map,N=new Map,O=!0,_=!1,P=void 0;try{for(var M,F=r[Symbol.iterator]();!(O=(M=F.next()).done);O=!0){var T=M.value;j[T.g].nodes.push(T.node),C.set(T.node,T.g)}}catch(Et){_=!0,P=Et}finally{try{O||null==F.return||F.return()}finally{if(_)throw P}}var D=new Map,Z=function(t,e){N.set(t,e),j[C.get(t)].occupyRow.add(e)},B=function(t,e,r){for(var n=t;n<=e;++n)j[n].occupyRow.add(r)},L=function(t,e){return j[t].occupyRow.has(e)},R=function(t,e,r){if(r<0)return!1;for(var n=t;n<=e;++n)if(L(n,r))return!0;return!1},z=!0,W=!1,V=void 0;try{for(var X,G=t[Symbol.iterator]();!(z=(X=G.next()).done);z=!0)X.value.nextNodes.sort((function(t,e){return C.get(e)-C.get(t)}))}catch(Et){W=!0,V=Et}finally{try{z||null==G.return||G.return()}finally{if(W)throw V}}var H=!0,U=!1,Y=void 0;try{for(var K,J=j[Symbol.iterator]();!(H=(K=J.next()).done);H=!0){var Q=K.value,q=!0,$=!1,tt=void 0;try{for(var et,rt=Q.nodes[Symbol.iterator]();!(q=(et=rt.next()).done);q=!0){var nt=et.value;if(!N.has(nt)){var ot=!0,at=!1,it=void 0;try{for(var lt,ut=nt.nextNodes[Symbol.iterator]();!(ot=(lt=ut.next()).done);ot=!0){var ct=lt.value;if(!N.has(ct)){for(var st=-1;R(C.get(nt),C.get(ct),++st););Z(nt,st),Z(ct,st),B(C.get(nt)+1,C.get(ct)-1,st);break}}}catch(Et){at=!0,it=Et}finally{try{ot||null==ut.return||ut.return()}finally{if(at)throw it}}if(!N.has(nt)){for(var ft=-1;L(C.get(nt),++ft););Z(nt,ft)}}var dt=!0,ht=!1,vt=void 0;try{for(var pt,yt=nt.nextNodes[Symbol.iterator]();!(dt=(pt=yt.next()).done);dt=!0){var wt=pt.value;if(!N.has(wt)){var gt=N.get(nt);if(R(C.get(nt)+1,C.get(wt),gt)){for(gt=-1;R(C.get(nt)+1,C.get(wt),++gt););Z(wt,gt),B(C.get(nt)+1,C.get(wt)-1,gt)}else Z(wt,gt),B(C.get(nt)+1,C.get(wt)-1,gt)}}}catch(Et){ht=!0,vt=Et}finally{try{dt||null==yt.return||yt.return()}finally{if(ht)throw vt}}}}catch(Et){$=!0,tt=Et}finally{try{q||null==rt.return||rt.return()}finally{if($)throw tt}}}}catch(Et){U=!0,Y=Et}finally{try{H||null==J.return||J.return()}finally{if(U)throw Y}}var mt=!0,bt=!1,xt=void 0;try{for(var St,kt=t[Symbol.iterator]();!(mt=(St=kt.next()).done);mt=!0){var At=St.value;D.set(At.id,[C.get(At),N.get(At)])}}catch(Et){bt=!0,xt=Et}finally{try{mt||null==kt.return||kt.return()}finally{if(bt)throw xt}}return D}},{key:"calculateActorBoxSize",value:function(t){var e=(0,y.cloneDeep)(t);return this.layoutActorBox(e,0,0)}},{key:"layoutActorBox",value:function(t,e,r){var n=0,o=function(t,e){if(void 0!==t.width)return t.width;e>n&&(n=e),t.layer=e;var r=0,a=!0,i=!1,l=void 0;try{for(var u,c=t.nextNodes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value;r+=o(s,e+1)}}catch(f){i=!0,l=f}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}return t.isLeaf=0===r,t.width=r>0?r:115,t.width};o(t,0),t.x=e||0,t.y=r||0;var a=t.x-125*n;h(t,(function(t){var e=t.y-t.width/2,r=!0,n=!1,o=void 0;try{for(var i,l=t.nextNodes[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;u.x=u.isLeaf?a:t.x-125,u.y=e+u.width/2,e+=u.width}}catch(c){n=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}}));var i=1/0,l=-1/0,u=1/0,c=-1/0;return h(t,(function(t){t.x>l&&(l=t.x),t.x<i&&(i=t.x),t.y>c&&(c=t.y),t.y<u&&(u=t.y)})),[l-i+100,c-u+100]}},{key:"drawActorBox",value:function(t){var e=this;if(void 0===t.g)throw Error("Invalid Argument: Target group cannot be undefined.");var r=t.actor,n=t.g.append("g"),o=t.rootNode||[],a=void 0===t.x?0:t.x,l=void 0===t.y?0:t.y,u=t.strokeColor||"white",c=t.linkColor||"gray";n.attr("class",r.computeNodeAddress);var f=mt(this.calculateActorBoxSize(o),2),d=f[0],v=f[1];this.layoutActorBox(o,a+d-bt,l+v/2);var p=function(t,e,r,n,o){r-=xt;var a=n.toString();return t.append("text")(a).attr("font-size",15).position(e-15-5,r+15).getWidth()+30+30};n.attr("id","actor-"+r.actorId);var y=n.append("rect"),w=!0,g=!1,m=void 0;try{for(var b,x=r.representedActorList[Symbol.iterator]();!(w=(b=x.next()).done);w=!0){var S=b.value;y.classed("actor-"+S.actorId,!0)}}catch(K){g=!0,m=K}finally{try{w||null==x.return||x.return()}finally{if(g)throw m}}y.classed("fragment-"+r.fragmentId,!0),y.init(a,l,d,v).attr("fill",this._actorBoxBackgroundColor(r)).attr("rx",10).attr("stroke-width",xt).on("click",(function(t){return function(t,r){e.onActorClick&&e.onActorClick(t,r)}(t,r)})),n.append("text")("Fragment ".concat(r.fragmentId)).position(a,l-xt-15).attr("font-size",15);var k=new Map,A=!0,E=!1,j=void 0;try{for(var I,C=r.representedActorList[Symbol.iterator]();!(A=(I=C.next()).done);A=!0){var N=I.value;k.has(N.computeNodeAddress)?k.get(N.computeNodeAddress).push(N.actorId):k.set(N.computeNodeAddress,[N.actorId])}}catch(K){E=!0,j=K}finally{try{A||null==C.return||C.return()}finally{if(E)throw j}}var O=a+xt,_=!0,P=!1,M=void 0;try{for(var F,T=k.entries()[Symbol.iterator]();!(_=(F=T.next()).done);_=!0){var D=mt(F.value,2),Z=D[0],B=D[1];O-=p(n,O,l+v,B,s(St(Z))[1])}}catch(K){P=!0,M=K}finally{try{_||null==T.return||T.return()}finally{if(P)throw M}}var L=[];h(o,(function(t){var e=!0,r=!1,n=void 0;try{for(var o,a=t.nextNodes[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var i=o.value;L.push({sourceNode:t,nextNode:i,source:[t.x,t.y],target:[i.x,i.y]})}}catch(K){r=!0,n=K}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}}));var R,z,W=i.h5h(),V=!0,X=!1,G=void 0;try{for(var H,U=L[Symbol.iterator]();!(V=(H=U.next()).done);V=!0){var Y=H.value;n.append("path")(W(Y)).attr("stroke-dasharray","".concat(7.5,",").concat(7.5)).attr("fill","none").attr("class","actor-"+r.actorId).classed("interal-link",!0).attr("id",(R=Y.sourceNode,z=Y.nextNode,"node-"+(R.id>z.id?R.id+"-"+z.id:z.id+"-"+R.id))).style("stroke-width",15).attr("stroke",c)}}catch(K){X=!0,G=K}finally{try{V||null==U.return||U.return()}finally{if(X)throw G}}return h(o,(function(t){t.d3Selection=n.append("circle").init(t.x,t.y,15).attr("id",function(t){return"node-"+t.id}(t)).attr("stroke",u).attr("fill",e._operatorColor(r,t)).style("cursor","pointer").style("stroke-width",2.5).on("click",(function(n){return function(t,r,n){e.onNodeClick&&e.onNodeClick(t,r,n)}(n,t,r)})),n.append("text")(t.type?t.type:t.dispatcherType).position(t.x,t.y+15+10).attr("font-size",15)})),{g:n,x:a-d-bt,y:l-v/2-bt,width:d+100,height:v+100}}},{key:"drawFlow",value:function(t){if(void 0===t.g)throw Error("Invalid Argument: Target group cannot be undefined.");var e=t.g,r=t.actorDagList||[],n=t.baseX||0,o=t.baseY||0,a=this.dagLayout(r),l=[],u=!0,c=!1,s=void 0;try{for(var f,h=r[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value;l.push(v.actor)}}catch(Rt){c=!0,s=Rt}finally{try{u||null==h.return||h.return()}finally{if(c)throw s}}var p=!0,w=!1,g=void 0;try{for(var m,b=l[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){var x,S,k=m.value;x=mt(this.calculateActorBoxSize(k.rootNode),2),k.boxWidth=x[0],k.boxHeight=x[1],S=mt(a.get(k.actorId),2),k.layer=S[0],k.row=S[1]}}catch(Rt){w=!0,g=Rt}finally{try{p||null==b.return||b.return()}finally{if(w)throw g}}var A=0,E=0,j=!0,I=!1,C=void 0;try{for(var N,O=l[Symbol.iterator]();!(j=(N=O.next()).done);j=!0){var _=N.value;E=(0,y.max)([_.layer,E]),A=(0,y.max)([_.row,A])}}catch(Rt){I=!0,C=Rt}finally{try{j||null==O.return||O.return()}finally{if(I)throw C}}var P=d(A+1),M=d(E+1),F=!0,T=!1,D=void 0;try{for(var Z,B=l[Symbol.iterator]();!(F=(Z=B.next()).done);F=!0){var L=Z.value;M[L.layer]=(0,y.max)([M[L.layer],L.boxWidth]),P[L.row]=(0,y.max)([P[L.row],L.boxHeight])}}catch(Rt){T=!0,D=Rt}finally{try{F||null==B.return||B.return()}finally{if(T)throw D}}var R=d(A+1),z=d(E+1);R=R.map((function(t,e){if(0===e)return 0;for(var r=0,n=0;n<e;++n)r+=P[n]+50;return r})),z=z.map((function(t,e){if(0===e)return 0;for(var r=0,n=0;n<e;++n)r+=M[n]+150;return r}));var W=e.append("g"),V=W.append("g"),X=W.append("g"),G=W.append("g");V.attr("class","linkLayerBackground"),X.attr("class","linkLayer"),G.attr("class","fragmentLayer");var H=[],U=!0,Y=!1,K=void 0;try{for(var J,Q=l[Symbol.iterator]();!(U=(J=Q.next()).done);U=!0){var q=J.value,$=this.drawActorBox({actor:q,g:G,rootNode:q.rootNode,x:n+z[q.layer],y:o+R[q.row],strokeColor:"white",linkColor:"white"});H.push($)}}catch(Rt){Y=!0,K=Rt}finally{try{U||null==Q.return||Q.return()}finally{if(Y)throw K}}var tt,et,rt,nt=[],ot=!0,at=!1,it=void 0;try{for(var lt,ut=l[Symbol.iterator]();!(ot=(lt=ut.next()).done);ot=!0){var ct=lt.value,st=!0,ft=!1,dt=void 0;try{for(var ht,vt=ct.output[Symbol.iterator]();!(st=(ht=vt.next()).done);st=!0){var pt=ht.value;nt.push({actor:ct,d:(tt=[ct.rootNode.x,ct.rootNode.y],et=[pt.x,pt.y],rt=M[ct.layer]-ct.boxWidth,i.jvg().curve(i.$0Z)([et,[tt[0]+rt+bt+10+50,et[1]],[tt[0]+rt+bt+10+25,et[1]],[tt[0]+rt+bt+10+25,tt[1]],[tt[0]+rt+bt+10,tt[1]],tt]))})}}catch(Rt){ft=!0,dt=Rt}finally{try{st||null==vt.return||vt.return()}finally{if(ft)throw dt}}}}catch(Rt){at=!0,it=Rt}finally{try{ot||null==ut.return||ut.return()}finally{if(at)throw it}}var yt=!0,wt=!1,gt=void 0;try{for(var xt,St=nt[Symbol.iterator]();!(yt=(xt=St.next()).done);yt=!0){var kt=xt.value;X.append("path")(kt.d).attr("stroke-dasharray","".concat(10,",").concat(10)).attr("fill","none").attr("class","actor-"+kt.actor.actorId).classed("outgoing-link",!0).style("stroke-width",10).attr("stroke",this._actorOutgoinglinkColor(kt.actor)).attr("layer","back")}}catch(Rt){wt=!0,gt=Rt}finally{try{yt||null==St.return||St.return()}finally{if(wt)throw gt}}var At=!0,Et=!1,jt=void 0;try{for(var It,Ct=nt[Symbol.iterator]();!(At=(It=Ct.next()).done);At=!0){var Nt=It.value;V.append("path")(Nt.d).attr("fill","none").style("stroke-width",20).attr("class","actor-"+Nt.actor.actorId).classed("outgoing-link-bg",!0).attr("stroke","#eee").attr("layer","back")}}catch(Rt){Et=!0,jt=Rt}finally{try{At||null==Ct.return||Ct.return()}finally{if(Et)throw jt}}var Ot=0,_t=0,Pt=!0,Mt=!1,Ft=void 0;try{for(var Tt,Dt=H[Symbol.iterator]();!(Pt=(Tt=Dt.next()).done);Pt=!0){var Zt=Tt.value,Bt=Zt.x-n+Zt.width,Lt=Zt.y-o+Zt.height;Ot=(0,y.max)([Bt,Ot]),_t=(0,y.max)([Lt,_t])}}catch(Rt){Mt=!0,Ft=Rt}finally{try{Pt||null==Dt.return||Dt.return()}finally{if(Mt)throw Ft}}return W.attr("class","flowchart"),{g:W,width:Ot,height:_t}}},{key:"drawManyFlow",value:function(){var t=this.topGroup;t.attr("id","");var e=this.streamPlan.fragmentRepresentedActors,r=new Map,n=!0,o=!1,a=void 0;try{for(var i,l=function(t,e){var n=e.value;n.rootNode.actorId=n.actorId,h(n.rootNode,(function(t){t.actorId=n.actorId})),r.set(n.actorId,{id:n.actorId,nextNodes:[],actor:n})},u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0)l(0,i)}catch(L){o=!0,a=L}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}var c=!0,s=!1,f=void 0;try{for(var d,v=e[Symbol.iterator]();!(c=(d=v.next()).done);c=!0){var y=d.value,w=!0,g=!1,m=void 0;try{for(var b,x=y.output[Symbol.iterator]();!(w=(b=x.next()).done);w=!0){var S=b.value,k=r.get(S.actorId);k&&r.get(y.actorId).nextNodes.push(k)}}catch(L){g=!0,m=L}finally{try{w||null==x.return||x.return()}finally{if(g)throw m}}}}catch(L){s=!0,f=L}finally{try{c||null==v.return||v.return()}finally{if(s)throw f}}var A=[],E=!0,j=!1,I=void 0;try{for(var C,N=r.keys()[Symbol.iterator]();!(E=(C=N.next()).done);E=!0){var O=C.value;A.push(r.get(O))}}catch(L){j=!0,I=L}finally{try{E||null==N.return||N.return()}finally{if(j)throw I}}var _=p(A),P=0,M=!0,F=!1,T=void 0;try{for(var D,Z=_[Symbol.iterator]();!(M=(D=Z.next()).done);M=!0){var B=D.value;P+=this.drawFlow({g:t,baseX:0,baseY:P,actorDagList:B}).height+250}}catch(L){F=!0,T=L}finally{try{M||null==Z.return||Z.return()}finally{if(F)throw T}}}}],r&&wt(e.prototype,r),n&&wt(e,n),t}();var At=r(67294),Et=r(95934),jt=r(76316),It=r(98456),Ct=r(42761),Nt=r(1849),Ot=r(11703),_t=r(40044),Pt=r(26447),Mt=r(83321),Ft=r(93946),Tt=r(94054),Dt=r(33841),Zt=r(73575),Bt=r(22224),Lt=r(56815),Rt=r(79332),zt=r(64722),Wt=r(59653),Vt=r(68245),Xt=r(50135),Gt=r(92902);var Ht=r(95537),Ut=r(49014),Yt=r(26671);function Kt(t,e,r,n,o,a,i){try{var l=t[a](i),u=l.value}catch(c){return void r(c)}l.done?e(u):Promise.resolve(u).then(n,o)}function Jt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var qt=(0,Et.Z)("div")((function(){return{padding:"10px",borderRadius:"20px",boxShadow:"5px 5px 10px #ebebeb, -5px -5px 10px #ffffff",position:"relative",marginBottom:"100px",height:"100%",width:"100%"}})),$t=(0,Et.Z)("div")((function(){return{position:"absolute",zIndex:"6"}})),te=(0,Et.Z)("div")((function(){return{fontSize:"15px",fontWeight:700}})),ee=(0,Et.Z)("div")({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",borderRadius:"20px"}),re=(0,Et.Z)("div")({padding:"10px",display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"center",backgroundColor:"#1976D2",borderTopRightRadius:"20px",borderTopLeftRadius:"20px",height:"50px"}),ne=function(t){return"http://localhost:16680/search?service=compute&tags=%7B%22actor_id%22%3A%22".concat(t,"%22%2C%22epoch%22%3A%22-1%22%7D")};function oe(t){var e=t.data||[],r=t.mvList||[],n=e.map((function(t){return t.node})),i=(0,At.useState)(""),l=i[0],u=i[1],c=(0,At.useState)(!1),f=c[0],d=c[1],h=(0,At.useState)("Show All"),v=h[0],p=h[1],y=(0,At.useState)("Actor"),w=y[0],g=y[1],m=(0,At.useState)(""),b=m[0],x=m[1],S=(0,At.useState)(null),k=S[0],A=S[1],E=(0,At.useState)(null),j=E[0],I=E[1],C=(0,At.useState)("Chain View"),N=C[0],O=C[1],_=(0,At.useState)(null),P=_[0],M=_[1],F=(0,At.useState)(!0),T=F[0],D=F[1],Z=(0,At.useState)(!1),B=Z[0],L=(Z[1],(0,At.useState)(0)),R=L[0],z=L[1],W=(0,At.useState)(null),V=W[0],X=W[1],G=(0,At.useRef)(null),H=(0,At.useRef)(null),U=(0,At.useRef)(null),Y=(0,At.useRef)(null),K=function(){return U.current},J=function(){return Y.current},Q=function(t){K()&&K().locateTo(t)},q=function(){var t="Operator"===w?"Node":w;"actor"===(t=t.toLocaleLowerCase())&&Q("".concat(t,"-").concat(b)),"fragment"===t&&Q("".concat(t,"-").concat(b))},$=function(t,e,r){X(r),d(!0),u(e.dispatcherType?JSON.stringify({dispatcher:{type:e.dispatcherType},downstreamActorId:e.downstreamActorId},null,2):JSON.stringify(function(t){return e=t,e.input,Qt(e,["input"]);var e}(e.nodeProto),null,2))},tt=function(t,e){X(e),d(!0),u("Click a node to show its raw json")},et=function(){var t,e=(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.location.reload(!0);case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Kt(a,n,o,i,l,"next",t)}function l(t){Kt(a,n,o,i,l,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}(),rt=function(){H.current&&K()&&K().resize(H.current.clientWidth,H.current.clientHeight)},nt=function(t){var r,n=new pt("c",G.current.clientHeight,G.current.clientWidth);r=n,U.current=r,rt();var o,a=function(t,e,r,n,o,a){console.log(a,"shownActorList");var i=new kt(t.topGroup,e,r,n,o,a);return i.drawManyFlow(),i}(n,e,$,tt,"Show All"===v?null:v,t);o=a,Y.current=o},ot=function(){var t=(0,At.useState)({w:1024,h:768}),e=t[0],r=t[1],n=function(){r({w:window.innerWidth,h:window.innerHeight})};return(0,At.useEffect)((function(){return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),e}();return(0,At.useEffect)((function(){rt()}),[ot]),(0,At.useEffect)((function(){q()}),[w,b]),(0,At.useEffect)((function(){if(G.current&&T)return nt(null),k||A(J().getMvTableIdToSingleViewActorList()),j||I(J().getMvTableIdToChainViewActorList()),function(){K().cleanGraph()}}),[v,T]),(0,At.useEffect)((function(){if(null!==P){var t,e=("Chain View"===N?j:k).get(P)||[];if(!T&&G.current)return nt(e),function(){K().cleanGraph()};0!==(t=e).length&&Q("actor-".concat(t[0]))}}),[v,N,P,T]),(0,a.jsxs)(qt,{children:[(0,a.jsx)($t,{style:{right:"10px",top:"10px",width:"500px"},children:(0,a.jsxs)(ee,{style:{display:f?"block":"none",height:H&&H.current?H.current.clientHeight-100:500},children:[(0,a.jsx)(re,{children:(0,a.jsx)(Ft.Z,{onClick:function(){return d(!1)},children:(0,a.jsx)(Ht.Z,{sx:{color:"white"}})})}),(0,a.jsxs)(Ot.Z,{value:R,onChange:function(t,e){z(e)},"aria-label":"basic tabs example",children:[(0,a.jsx)(_t.Z,{label:"Info",id:0}),(0,a.jsx)(_t.Z,{label:"Raw JSON",id:1})]}),(0,a.jsx)("div",{style:{display:0===R?"flex":"none",flexDirection:"column",padding:"10px",width:"100%",height:"calc(100% - 160px)",overflow:"auto"},children:V&&V.representedActorList.map((function(t,e){return(0,a.jsxs)(Pt.Z,{direction:"column",justifyContent:"center",spacing:1,style:{width:"100%",marginBottom:"30px"},children:[(0,a.jsxs)("div",{style:{fontSize:"15px",color:"#1976D2"},children:["Actor ",t.actorId]}),(0,a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:(r=t.actorId,"http://localhost:16680/search?service=compute&tags=%7B%22actor_id%22%3A%22".concat(r,"%22%2C%22msg%22%3A%22chunk%22%7D")),children:(0,a.jsxs)(Mt.Z,{variant:"outlined",children:["Trace Message of Actor #",t.actorId]})}),(0,a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:ne(t.actorId),children:(0,a.jsxs)(Mt.Z,{variant:"outlined",children:['Trace Epoch "-1" of Actor #',t.actorId]})})]},e);var r}))}),(0,a.jsx)("div",{style:{display:1===R?"block":"none",height:"calc(100% - 160px)",overflow:"auto"},children:(0,a.jsx)(Ut.Z,{language:"json",style:Yt.XG,wrapLines:!0,showLineNumbers:!0,children:l})})]})}),(0,a.jsxs)($t,{className:"noselect",style:{display:"flex",flexDirection:"column"},children:[(0,a.jsx)(te,{children:"Select a worker node"}),(0,a.jsxs)(Tt.Z,{sx:{m:1,minWidth:300},children:[(0,a.jsx)(Dt.Z,{children:"Worker Node"}),(0,a.jsxs)(Zt.Z,{value:v||"Show All",label:"Woker Node",onChange:function(t){p(t.target.value)},children:[(0,a.jsx)(Bt.Z,{value:"Show All",children:"Show All"},"all"),n.map((function(t,e){return(0,a.jsxs)(Bt.Z,{value:t,sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[t.type,"\xa0 ",(0,a.jsx)("span",{style:{fontWeight:700},children:t.host.host+":"+t.host.port}),(0,a.jsx)("div",{style:{margin:5,height:10,width:10,borderRadius:5,backgroundColor:(r=t.host.host+":"+t.host.port,s(St(r))[1])}})]},e);var r}))]}),(0,a.jsx)(Lt.Z,{children:"Select an Actor"})]}),(0,a.jsx)(te,{children:"Search"}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,a.jsxs)(Tt.Z,{sx:{m:1,minWidth:120},children:[(0,a.jsx)(Dt.Z,{children:"Type"}),(0,a.jsxs)(Zt.Z,{value:w,label:"Type",onChange:function(t){g(t.target.value)},children:[(0,a.jsx)(Bt.Z,{value:"Actor",children:"Actor"}),(0,a.jsx)(Bt.Z,{value:"Fragment",children:"Fragment"})]})]}),(0,a.jsx)(Rt.Z,{sx:{m:1,width:150},label:"Search",variant:"standard",onChange:function(t){x(t.target.value)},value:b,endAdornment:(0,a.jsx)(zt.Z,{position:"end",children:(0,a.jsx)(Ft.Z,{"aria-label":"toggle password visibility",onClick:function(t){q()},children:(0,a.jsx)(Ct.Z,{})})})})]}),(0,a.jsx)(te,{children:"Filter materialized view"}),(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,a.jsxs)(Tt.Z,{sx:{m:1,width:300},children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"10px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(Dt.Z,{children:"Mode"}),(0,a.jsxs)(Zt.Z,{sx:{width:140},value:N,label:"Mode",onChange:function(t){O(t.target.value)},children:[(0,a.jsx)(Bt.Z,{value:"Single View",children:"Single View"}),(0,a.jsx)(Bt.Z,{value:"Chain View",children:"Chain View"})]})]}),(0,a.jsx)("div",{style:{marginLeft:"20px"},children:"Full Graph"}),(0,a.jsx)(Wt.Z,{defaultChecked:!0,value:T,onChange:function(t,e){D(e)}})]}),(0,a.jsx)(Vt.Z,{isOptionEqualToValue:function(t,e){return t.tableId===e.tableId},disablePortal:!0,options:r.map((function(t){return{label:t.name,tableId:t.id}}))||[],onChange:function(t,e){M(null===e?null:e.tableId)},renderInput:function(t){return(0,a.jsx)(Xt.Z,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){Jt(t,e,r[e])}))}return t}({},t,{label:"Materialized View"}))}})]})})]}),(0,a.jsx)($t,{style:{right:"10px",bottom:"10px",cursor:"pointer"},children:(0,a.jsxs)(Pt.Z,{direction:"row",spacing:2,children:[(0,a.jsx)(Gt.Z,{title:"Reset",children:(0,a.jsx)("div",{onClick:function(){K().resetCamera()},children:(0,a.jsx)(jt.Z,{color:"action"})})}),(0,a.jsx)(Gt.Z,{title:"refresh",children:B?(0,a.jsx)(It.Z,{}):(0,a.jsx)("div",{onClick:function(){return et()},children:(0,a.jsx)(Nt.Z,{color:"action"})})})]})}),(0,a.jsx)("div",{ref:H,style:{zIndex:5,width:"100%",height:"100%",overflow:"auto"},className:"noselect",children:(0,a.jsx)("canvas",{ref:G,id:"c",width:1e3,height:1e3,style:{cursor:"pointer"}})})]})}var ae=r(99442),ie=r(55029),le=r(20149);function ue(t,e,r,n,o,a,i){try{var l=t[a](i),u=l.value}catch(c){return void r(c)}l.done?e(u):Promise.resolve(u).then(n,o)}function ce(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ue(a,n,o,i,l,"next",t)}function l(t){ue(a,n,o,i,l,"throw",t)}i(void 0)}))}}function se(){return fe.apply(this,arguments)}function fe(){return(fe=ce(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.Z.get("/api/actors");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function de(){return he.apply(this,arguments)}function he(){return(he=ce(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.Z.get("/api/materialized_views");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ve(t,e,r,n,o,a,i){try{var l=t[a](i),u=l.value}catch(c){return void r(c)}l.done?e(u):Promise.resolve(u).then(n,o)}function pe(t){var e,r=(0,At.useState)(null),n=r[0],i=r[1],l=(0,At.useState)([]),u=l[0],c=l[1],s=(0,At.useRef)(null);return(0,At.useEffect)((e=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=i,t.next=4,se();case 4:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=c,t.next=9,de();case 9:t.t3=t.sent,(0,t.t2)(t.t3),t.next=17;break;case 13:t.prev=13,t.t4=t.catch(0),s.current.error(t.t4.toString()),console.error(t.t4);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){ve(a,n,o,i,l,"next",t)}function l(t){ve(a,n,o,i,l,"throw",t)}i(void 0)}))}),[]),(0,a.jsxs)(a.Fragment,{children:[n&&0!==n.length&&n[0].actors?(0,a.jsx)(oe,{data:n,mvList:u}):(0,a.jsx)(ae.Z,{}),(0,a.jsx)(ie.Z,{ref:s,vertical:"top",horizontal:"center"})]})}},24960:function(){},26759:function(){},56272:function(){}},function(t){t.O(0,[662,498,915,714,774,888,179],(function(){return e=76975,t(t.s=e);var e}));var e=t.O();_N_E=e}]);